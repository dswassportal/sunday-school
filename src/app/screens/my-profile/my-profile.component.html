<div class="container mt-4">
  <mat-card class="shadow">
      
      <div class="row">

          <h1 class="col-md-12">My Profile</h1>
        </div>
      
    <form *ngIf="isApprovedUserLoggedIn" (change)="isDirty = true" [formGroup]="myprofileform">
        
      <div class="row" style="padding-left: 1.6%;">

        <mat-form-field style="width:10%;">
          <mat-label>Title</mat-label>
          <!--<mat-select matNativeControl required formControlName="title">
            <mat-option value="His Grace">His Grace</mat-option>
            <mat-option value="Very Rev Fr. Dr">Very Rev Fr. Dr</mat-option>
            <mat-option value="Very Rev">Very Rev</mat-option>
            <mat-option value="Fr">Fr</mat-option>
            <mat-option value="Rev Fr. Dr">Rev Fr. Dr</mat-option>
            <mat-option value="Rev Fr.">Rev Fr.</mat-option>
            <mat-option value="Mr">Mr</mat-option>
            <mat-option value="Ms">Ms</mat-option>
            <mat-option value="Mrs">Mrs</mat-option>
            <mat-option value="Dr">Dr</mat-option>
             <option *ngFor = "let role of roledata" [value]=role.id>{{role.name}} </option> 
          </mat-select>-->
          <mat-select required id="title" formControlName = "title" placeholder="title" >
            <mat-option *ngFor = "let title of titles; index as i" [value]=title>{{title}}</mat-option>
          </mat-select>
        </mat-form-field>


        <mat-form-field style="width:30%;padding-left: 1%;">
          <mat-label>First Name</mat-label>
          <input style="text-transform: capitalize;" required id="firstName" matInput formControlName="firstName" placeholder="Enter First Name" />
        </mat-form-field>

        <mat-form-field style="width:30%;padding-left: 1%;">
          <mat-label>Middle Name</mat-label>
          <!--required-->
          <input style="text-transform: capitalize;"  id="middleName" matInput formControlName="middleName" placeholder="Enter Middle Name" />
        </mat-form-field>

        <mat-form-field style="width:30%;padding-left: 1%;padding-right: 1.4%;">
          <mat-label>Last Name</mat-label>
          <input style="text-transform: capitalize;" required id="lastName" matInput formControlName="lastName" placeholder="Enter Last Name" />
        </mat-form-field>

      </div>



      <div class="row">
        <mat-form-field class="col-md">
          <mat-label>Nick Name</mat-label>
          <input style="text-transform: capitalize;" id="lastName" matInput formControlName="nickName" />
        </mat-form-field>

        <mat-form-field class="col-md">
          <mat-label>Baptismal Name</mat-label>
          <input style="text-transform: capitalize;" id="baptismalName" matInput formControlName="baptismalName" />
        </mat-form-field>


        <mat-form-field class="col-md">
          <mat-label>Date of Birth</mat-label>
           <!--required-->
          <input [max]="maxDate" matInput type="input" [matDatepicker]="picker"  id="dob" formControlName="dob">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

      </div>
      <div class="row">
        <mat-form-field class="col-md-4">
          <mat-label style="padding-left: 15%;">Mobile Number *</mat-label>
           <!--<input required id="mobileNo" matInput formControlName="mobileNo" ng2TelInput maxlength="10" (keypress)="keyPress($event)"
            placeholder="Enter Mobile Number" /> 
          [preferredCountries]="['us', 'in']"
          [onlyCountries]= "['us','in']"-->
            
          <ngx-mat-intl-tel-input id="mobileNo" matInput (keypress)="keyPress($event)" 
          [onlyCountries]= "['us','in','ca']" [enableSearch]="true" [enablePlaceholder]="true" [maxLength]="['10']"
          [enableAutoCountrySelect]="true" name="mobileNo" formControlName="mobileNo" [preferredCountries]="['us']" [enableRequired]="true"></ngx-mat-intl-tel-input>

            <!-- <mat-error *ngIf="myprofileform.controls.mobileNo.touched && myprofileform.controls.mobileNo.invalid">
              <span *ngIf="myprofileform.controls.mobileNo.errors.required">This field is mandatory.</span>
               <span *ngIf="myprofileform.controls.mobileNo.errors.pattern">Enter 10 digit number.</span> 
          </mat-error> -->
          <!-- <mat-error *ngIf="myprofileform.controls['mobileNo']?.errors?.required">Required Field</mat-error>
          <mat-error *ngIf="myprofileform.controls['mobileNo']?.errors?.validatePhoneNumber">Enter 10 digit number.</mat-error> -->
       
           <mat-error *ngIf="myprofileform.controls.mobileNo.touched && myprofileform.controls.mobileNo.invalid">
              <span *ngIf="myprofileform.controls['mobileNo']?.errors?.required">This field is mandatory.</span>
               <span *ngIf="myprofileform.controls['mobileNo']?.errors?.validatePhoneNumber">Enter 10 digit number.</span> 
          </mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-4">
          <mat-label style="padding-left: 15%;">Home Phone Number</mat-label>
          <!-- <input id="homePhoneNo" matInput formControlName="homePhoneNo" ng2TelInput  maxlength="10" (keypress)="keyPress($event)"
            placeholder="Enter Home Phone Number" />
            <mat-error *ngIf="myprofileform.controls.homePhoneNo.touched && myprofileform.controls.homePhoneNo.invalid">
              <span *ngIf="myprofileform.controls.homePhoneNo.errors.required">This field is mandatory.</span>
              <span *ngIf="myprofileform.controls.homePhoneNo.errors.pattern">Enter 10 digit number.</span>
          </mat-error> -->
          <ngx-mat-intl-tel-input id="homePhoneNo" matInput (keypress)="keyPress($event)" 
            [onlyCountries]= "['us','in','ca']" [enableSearch]="true" [enablePlaceholder]="true" [maxLength]="['10']"
            [enableAutoCountrySelect]="true" name="homePhoneNo" formControlName="homePhoneNo" [preferredCountries]="['us']" [enableRequired]="true">
          </ngx-mat-intl-tel-input>
          <mat-error *ngIf="myprofileform.controls.homePhoneNo.touched && myprofileform.controls.homePhoneNo.invalid">
            <!-- <span *ngIf="myprofileform.controls['homePhoneNo']?.errors?.required">This field is mandatory.</span> -->
             <span *ngIf="myprofileform.controls['homePhoneNo']?.errors?.validatePhoneNumber">Enter 10 digit number.</span> 
        </mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-4">
          <mat-label>Email Address</mat-label>
          <input id="emailId" matInput formControlName="emailId" placeholder="Enter Email Address"/>
          <mat-error *ngIf="myprofileform.controls.emailId.touched && myprofileform.controls.emailId.invalid">
            <span *ngIf="myprofileform.controls.emailId.errors.required">This field is mandatory.</span>
            <span *ngIf="myprofileform.controls.emailId.errors.pattern">Enter valid email id.</span>
        </mat-error>
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field class="col-md-12">
          <mat-label>Address Line 1</mat-label>
          <input id="addressLine1" matInput formControlName="addressLine1" placeholder="Enter Address" />
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field class="col-md-12">
          <mat-label>Address Line 2</mat-label>
          <input id="addressLine2" matInput formControlName="addressLine2" placeholder="Enter Address" />
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field class="col-md-12">
          <mat-label>Address Line 3</mat-label>
          <input id="addressLine3" matInput formControlName="addressLine3" placeholder="Enter Address" />
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field class="col-md">
          <mat-label>City</mat-label>
          <!--required-->
          <input  id="city" matInput formControlName="city" placeholder="Enter Address" />
        </mat-form-field>

        <mat-form-field class="col-md">
          <mat-label>Postal Code</mat-label>
          <!--required-->
          <input  id="postalCode" matInput formControlName="postalCode" placeholder="Enter Address" />
        </mat-form-field>

        <mat-form-field class="col-md">
          <mat-label>Parish</mat-label>
          <!-- <input id="parish" matInput formControlName="parish" readonly /> -->
         <!-- readonly -->
          <mat-select id="parish" formControlName = "parish" placeholder="Parish">
            <mat-option *ngFor = "let parish of parishList" [value]=parish.id>{{parish.name}} </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="row">

          <mat-form-field class="col-md-6">
              <mat-label>Country</mat-label>
              <!--required [(ngModel)]="selectedCountry"-->
              <select matNativeControl  id="country" formControlName="country" placeholder="Select Country"  (change)="changeCountry($event)">
                      <option *ngFor="let country of countries" [value]="country.countryName">{{country.countryName}}</option>
              </select>
      </mat-form-field>
        <mat-form-field class="col-md-6">
            <mat-label>State/Province</mat-label>
             <!--required-->
            <select  matNativeControl  id="state" formControlName="state" placeholder="Select State/Province">
              <option *ngFor="let state of states" [value]="state">{{state}}</option>
            </select>
          </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field class="col-md">
          <mat-label>Marital Status</mat-label>
           <!--required-->
          <mat-select matNativeControl  id="maritalStatus" formControlName="maritalStatus"
           placeholder="Enter Country">
            <!-- <option value="married">Married</option>
            <option value="unmarried">Unmarried</option> -->

         <!-- (selectionChange)="onSelectionChanged($event)" -->
         
            <mat-option *ngFor="let married of maritalstatus " [value]="married">
                {{married}}
              </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="col-md">
            <mat-label>Date of Marriage</mat-label>
             <!--required-->
            <input [disabled]="myprofileform.value.maritalStatus=='Unmarried'" [max]="maxDate" matInput type="input" [matDatepicker]="marriageDatepicker"  id="dateofMarriage"
            formControlName="dateofMarriage">
            <mat-datepicker-toggle matSuffix [for]="marriageDatepicker"></mat-datepicker-toggle>
            <mat-datepicker #marriageDatepicker></mat-datepicker>
          </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field class="col-md-12">
          <mat-label>About Yourself</mat-label>
          <textarea id="aboutYourself" matInput formControlName="aboutYourself" placeholder="Enter About Yourself">
    </textarea>
        </mat-form-field>
      </div>


     <!--<div *ngIf="showFamilyHeadQuestion" class="row">
        <div class="col-md-2">
          <h3>Are you family head ?</h3>
        </div>
        <div class="col-md-4" style="padding-top: 0.4%;margin-left: -4%;">
            <label id="example-radio-group-label" class="ml-3">Is Family Head? </label>
          <mat-radio-group formControlName="isFamilyHead" aria-label="Select an option">
            <mat-radio-button [checked]=isFamilyHead value=true>Yes</mat-radio-button>&nbsp;
            <mat-radio-button [checked]=!isFamilyHead value=false >No</mat-radio-button>
          </mat-radio-group>
        </div>
      </div>
-->
<div *ngIf="showFamilyHeadQuestion" class="row" >
  <!--<div class="col-md-3">
    <h3>Are you a family head ?</h3>
  </div>-->
  <div class="col-md-9" style="padding-top: 0.4%;margin-left: -4%;">
    <mat-radio-group formControlName="isFamilyHead" aria-label="Select an option">
      <label style="margin-right: 1%;" id="example-radio-group-label" class="ml-5">Are you a family head ? </label>
      <mat-radio-button [checked]=isFamilyHead value=true>Yes</mat-radio-button>&nbsp;
      <mat-radio-button [checked]=!isFamilyHead value=false>No</mat-radio-button>
    </mat-radio-group>
  </div>  
</div>

<div class="row" *ngIf ="!isFamilyHead || showStudentQuestion ">
<!--<div class="col-md-3">
  <h3>Are you a student ? &nbsp;</h3>
</div>-->

<div  class="col-md-9" style="padding-top: 0.4%;margin-left: -4%;">
  <mat-radio-group formControlName="isStudent" (change)= "isStudentFn($event)" aria-label="Select an option">
    <label style="margin-right: 1%;" id="example-radio-group-label" class="ml-5">Do you wish to join Sunday School ? </label>
    <mat-radio-button [checked]=isStudent value=true>Yes</mat-radio-button>&nbsp;
    <mat-radio-button [checked]=!isStudent value=false>No</mat-radio-button>
  </mat-radio-group>
</div>
<div *ngIf ="isStudent || showStudentQuestion" ></div>
</div>


    
       <!-- <div *ngIf="hasAddMemPerm"> -->
         <div>
           <div *ngIf="hasAddMemPerm || isFamilyMember">
        <mat-divider style="position: relative;background-color:rgb(136, 88, 25);height: 2px;margin-top: 12px;">
        </mat-divider>
      </div>
        <div class="row" style="padding-top: 1%;">
          <div *ngIf="hasAddMemPerm " class="col-md-6">
           
            <h2>Family Member Assignment</h2>
          </div>

          <div *ngIf="isFamilyMember" class="col-md-6">
           
            <h2>Family Member's </h2>
          </div>
          
          <div class="col-md-6 col text-right">
            <button mat-raised-button type="button" *ngIf="!isReadOnly" (click)="onaddbtnclick()">
              <mat-icon>add</mat-icon>
              <span style="padding-top: 2%;font-size: 16px;">Add</span>
            </button>
          </div>
        </div>

        <fieldset>
          <div class="row" formArrayName="memberDetails"
            *ngFor="let item of myprofileform.get('memberDetails')['controls']; let i = index;">
            <div style="padding-left: 1%; width: 100%;" [formGroupName]="i">


              <div class="row">
                <div class="col-md-4" style="margin-left: -0.2%;">
                  <mat-form-field class="col text-left">
                    <mat-label>Relationship</mat-label>
                     <!-- <mat-select matNativeControl required id="relationship" formControlName="relationship"
                      placeholder="Enter Relationship">
                      <mat-option value="husband">Husband</mat-option>
                      <mat-option value="Wife">Wife</mat-option>
                      <mat-option value="Son">Son</mat-option>
                      <mat-option value="Daughter">Daughter</mat-option>
                      <mat-option value="Father">Father</mat-option>
                      <mat-option value="Mother">Mother</mat-option>
                    </mat-select> -->
                    <mat-select  required id="relationship" formControlName = "relationship" placeholder="relationship" >
                      <mat-option [disabled]="isReadOnly" *ngFor = "let relationship of relationships; index as i" [value]=relationship>{{relationship}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('relationship').errors?.required">This field is mandatory.</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field class="col-md-12">
                    <mat-label>Baptismal Name</mat-label>
                    <input [readonly]="isReadOnly" style="text-transform: capitalize;" id="baptismalName" matInput formControlName="baptismalName" placeholder="Enter Baptismal Name" />
                  </mat-form-field>
                </div>


                <div class="col-md-2" style="padding-top: 2%;padding-right: 4%;">
                  <div class="col text-right">
                    <button *ngIf="!isReadOnly" (click)="onremovebtnclick(i)" mat-raised-button>
                      <mat-icon>delete</mat-icon><span>Delete</span>
                    </button>
                  </div>
                </div>

              </div>

              <div class="row" style="padding-left: 2.5%;">

                <mat-form-field style="width:10%;">
                  <mat-label>Title</mat-label>
                  <!--   <mat-select matNativeControl required formControlName="title">
                    <mat-option value="His Grace">His Grace</mat-option>
                    <mat-option value="Very Rev Fr. Dr">Very Rev Fr. Dr</mat-option>
                    <mat-option value="Very Rev">Very Rev</mat-option>
                    <mat-option value="Fr">Fr</mat-option>
                    <mat-option value="Rev Fr. Dr">Rev Fr. Dr</mat-option>
                    <mat-option value="Rev Fr.">Rev Fr.</mat-option>
                    <mat-option value="Mr">Mr</mat-option>
                    <mat-option value="Ms">Ms</mat-option>
                    <mat-option value="Mrs">Mrs</mat-option>
                    <mat-option value="Dr">Dr</mat-option>
                   <option *ngFor = "let role of roledata" [value]=role.id>{{role.name}} </option> 
                  </mat-select>-->
                  <mat-select required id="title" formControlName = "title" placeholder="title" >
                    <mat-option [disabled]="isReadOnly" *ngFor = "let title of titles; index as i" [value]=title>{{title}}</mat-option>
                  </mat-select>
                <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('title').errors?.required">This field is mandatory.</mat-error>
                </mat-form-field>


                <mat-form-field style="width:30%;padding-left: 1%;">
                  <mat-label>First Name</mat-label>
                  <input [readonly]="isReadOnly" style="text-transform: capitalize;" required id="firstName" matInput formControlName="firstName" placeholder="Enter First Name" />
                  <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('firstName').errors?.required">This field is mandatory.</mat-error>
                </mat-form-field>

                <mat-form-field style="width:30%;padding-left: 1%;">
                  <mat-label>Middle Name</mat-label>
                  <!--required-->
                  <input [readonly]="isReadOnly" style="text-transform: capitalize;" id="middleName" matInput formControlName="middleName"
                    placeholder="Enter Middle Name" />

                </mat-form-field>

                <mat-form-field style="width:30%;padding-left: 1%;padding-right: 2%;">
                  <mat-label>Last Name</mat-label>
                  <input [readonly]="isReadOnly" style="text-transform: capitalize;" required id="lastName" matInput formControlName="lastName" placeholder="Enter Last Name" />
                  <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('lastName').errors?.required">This field is mandatory.</mat-error>
                </mat-form-field>

              </div>



              <div class="row" style="padding-left: 1%;">
                <mat-form-field class="col-md-4">
                  <mat-label>Date of Birth</mat-label>
                  <!--required-->
                  <input [readonly]="isReadOnly" [max]="maxDate" matInput type="input" [matDatepicker]="picker"  id="dob" formControlName="dob">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>

                </mat-form-field>

                <mat-form-field class="col-md-4">
                  <mat-label style="padding-left: 15%;">Mobile Number *</mat-label>
                  <!-- <input id="mobileNo" matInput formControlName="mobileNo" placeholder="Enter Mobile No" ng2TelInput length="10"/>                  -->
                  <!-- <input [readonly]="isReadOnly" matInput type="text" ng2TelInput formControlName="mobileNo" id="mobileNo" maxLength="10"
                    minLength="10" required style="width: fit-content;" />
                    <mat-error *ngIf="myprofileform.controls.mobileNo.touched && myprofileform.controls.mobileNo.invalid">
                      <span *ngIf="myprofileform.controls.mobileNo.errors.required">This field is mandatory.</span>
                      <span *ngIf="myprofileform.controls.mobileNo.errors.pattern">Enter 10 digit number.</span>
                  </mat-error> -->
                  <ngx-mat-intl-tel-input id="mobileNo" matInput (keypress)="keyPress($event)" [onlyCountries]="['us','in','ca']"
                    [enableSearch]="true" [enablePlaceholder]="true" [maxLength]="['10']" [enableAutoCountrySelect]="true" name="mobileNo"
                    formControlName="mobileNo" [preferredCountries]="['us']" [enableRequired]="true">
                  </ngx-mat-intl-tel-input>
                  <!-- <mat-error *ngIf="myprofileform.controls.mobileNo.touched && myprofileform.controls.mobileNo.invalid">
                    <span *ngIf="myprofileform.controls['mobileNo']?.errors?.required">This field is mandatory.</span>
                    <span *ngIf="myprofileform.controls['mobileNo']?.errors?.validatePhoneNumber">Enter 10 digit number.</span>
                  </mat-error> -->
                  <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('mobileNo').errors?.required">This field is mandatory.</mat-error>
                  <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('mobileNo').errors?.validatePhoneNumber">Enter 10 digit number.</mat-error>
                </mat-form-field>

                <mat-form-field class="col-md-4" style="padding-right: 2%;">
                  <mat-label>Email Address</mat-label>
                  <input [readonly]="isReadOnly" required id="emailId" matInput formControlName="emailId" placeholder="Enter Email Address" />
                  <!-- <mat-error *ngIf="myprofileform.controls.emailId.touched && myprofileform.controls.emailId.invalid">
                    <span *ngIf="myprofileform.controls.emailId.errors.required">This field is mandatory.</span>
                    <span *ngIf="myprofileform.controls.emailId.errors.pattern">Enter valid mailid.</span>
                </mat-error> -->
                <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('emailId').errors?.required">This field is mandatory.</mat-error>
                <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('emailId').errors?.pattern">Enter valid Email Id.</mat-error>
                </mat-form-field>


               
                <div style="padding-top: 1.6%;padding-left:1%;margin-left: -4%; width: 37.4%;">
                  <mat-radio-group formControlName="isMemberFamilyHead" (change)="isFamilyHeadOnChange({event:$event, item:item, index:i})" aria-label="Select an option">
                    <label style="margin-right: 1%;padding-bottom: 2%;" id="example-radio-group-label" class="ml-5">Is family head ? </label>
                    <mat-radio-button [checked]=isFamilyHeadRadiobtn value=true>Yes</mat-radio-button>&nbsp;
                    <mat-radio-button [checked]=!isFamilyHeadRadiobtn value=false>No</mat-radio-button>
                  </mat-radio-group>
                </div>  



                <mat-form-field class="col-md-4" style="padding-right: 2%;">
                  <mat-label>Username</mat-label>
                  <input formControlName="userName" (focusout)="onUserNameFocusOut($event)" id="userName" matInput placeholder="Enter Username" />
                  <!-- <mat-error *ngIf="myprofileform.memberDetails.controls.username.touched && myprofileform.memberDetails.controls.username.invalid">
                    <span *ngIf="myprofileform.memberDetails.controls.username.errors.required">This field is mandatory.</span>
                    <span *ngIf="myprofileform.memberDetails.controls.username.errors.pattern">Enter valid mailid.</span>
                </mat-error> -->
                <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('userName').errors?.required">Username is Required</mat-error>
                <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('userName').errors?.pattern">Enter valid Username</mat-error>
                <mat-error *ngIf="myprofileform.get('memberDetails').controls[i].get('userName')?.hasError('invalid')">Enter valid Username</mat-error>
                
              </mat-form-field>


              </div>
                <div *ngIf="isFamilyHead || isFamilyMember" class="col text-center">
         
                <mat-divider style="position: relative;background-color:rgba(252, 168, 59, 0.863);height: 2px;margin-top: 12px; margin-bottom: 12px;">
                </mat-divider>
              
                </div>
            </div>
          </div>
        </fieldset>

        <div *ngIf="!isReadOnly" class="col text-center">
         
          <mat-divider style="position: relative;background-color:rgb(136, 88, 25);height: 2px;margin-top: 12px;">
          </mat-divider>
          
            <button  mat-button type="submit" routerLinkActive="active" class="mbutton mr-1" (click)="cancel()">Cancel</button>
          <button mat-button type="submit" mat-button class="mbutton" style="margin-top: 2%;"
           (click)="updateUserProfile()">
            Update</button>
        </div>
       
       
      </div>
      
     
    </form>
<div ></div>
    <div *ngIf="!isFamilyHead">
      <form [formGroup]="studentDetailsForm">
       <div *ngIf = "isStudentvar || isStudent" >
    
          <mat-divider style="position: relative;background-color:rgb(136, 88, 25);height: 2px;margin-top: 12px;">
          </mat-divider>
  
          <div class="row" style="padding-top: 1%;">
            <div class="col-md-12">
            *If student please fill in following details (K-12) :
            </div>
          </div>
    
          <div class="row" style="padding-top: 1%;">
            <div class="col-md-6">
              <h2>Academic Details</h2>
            </div>
          </div>
    
          <!-- <div class="row">
  
            <mat-form-field class= "col-md-6">
              <mat-label>Student Academic Details Id</mat-label>
              <input required id="studentAcaDtlId" formControlName ="studentAcaDtlId" matInput placeholder="Enter Student Academic Details Id" />
            </mat-form-field>
    
            <mat-form-field class= "col-md-12">
              <mat-label>Student Id</mat-label>
              <input required id="studentId" formControlName ="studentId" matInput placeholder="Student Id" />
            </mat-form-field>
    
          </div> -->
          
        
    
          <div class="row">
           
            <mat-form-field class= "col-md-9">
              <mat-label>School Name</mat-label>
              <input id="schoolName" formControlName ="schoolName" matInput placeholder="Enter School Name" />
            </mat-form-field>
            <!--
            <mat-form-field class= "col-md-6">
              <mat-label>School Grade</mat-label>
              <input required id="schoolGrade" formControlName ="schoolGrade" matInput placeholder="Enter School Grade" />
            </mat-form-field>
            -->

            
            <mat-form-field class= "col-md-3">
                <mat-label>School Grade</mat-label>
                <!-- [(ngModel)]="acadmicGradeSelection" (ngModelChange)="onAcadmicGradeChange($event)" -->
                <mat-select required matNativeControl 
                (selectionChange)="gradeChange()"  id="schoolGrade" formControlName="schoolGrade">
                  <!-- <mat-option value="Grade 1">Grade 1</mat-option>
                  <mat-option value="Grade 2">Grade 2</mat-option>
                  <mat-option value="Grade 3">Grade 3</mat-option>
                  <mat-option value="Grade 4">Grade 4</mat-option>
                  <mat-option value="Grade 5">Grade 5</mat-option>
                  <mat-option value="Grade 6">Grade 6</mat-option>
                  <mat-option value="Grade 7">Grade 7</mat-option>
                  <mat-option value="Grade 8">Grade 8</mat-option>
                  <mat-option value="Grade 9">Grade 9</mat-option>
                  <mat-option value="Grade 10">Grade 10</mat-option>
                  <mat-option value="Grade 11">Grade 11</mat-option>
                  <mat-option value="Grade 12">Grade 12</mat-option> -->
                  <mat-option *ngFor = "let schoolGrade of schoolDataList[0].grades"
                       [value]=schoolGrade.name>{{schoolGrade.name}} </mat-option>
                </mat-select>
              </mat-form-field>

              
              <!-- <ng-multiselect-dropdown style="padding-top: 0.7%;" class="col-md-6" id="sunSchoolGrade"
                  placeholder="School Grade" [settings]="dropdownSettingsSchoolGrade" [data]="schoolDataList[0].grades"
                  formControlName="sunSchoolGrade" (onSelectAll)="onSelectAll($event)"(selectionChange)="gradeChange()" >
                </ng-multiselect-dropdown> -->
          </div>
    
          <div class="row" *ngIf="ishidden ">
  
            <mat-form-field class= "col-md-6">
              <mat-label>Academic Year Start Date</mat-label>
              <input matInput [matDatepicker]="pickerstartdate"  id="studntAcaYrStrtDate" formControlName ="studntAcaYrStrtDate" placeholder="Enter Academic Year Start Date">
              <mat-datepicker-toggle matSuffix [for]="pickerstartdate"></mat-datepicker-toggle>
              <mat-datepicker startView="multi-year" #pickerstartdate></mat-datepicker>
            </mat-form-field>

            <!-- (monthSelected)="monthSelected($event)"  -->

            
  
            <mat-form-field class= "col-md-6">
              <mat-label>Academic Year End Date</mat-label>
              <input matInput [matDatepicker]="pickerenddate"  id="studntAcaYrEndDate" formControlName ="studntAcaYrEndDate" placeholder="Enter Academic Year End Date">
              <mat-datepicker-toggle matSuffix [for]="pickerenddate"></mat-datepicker-toggle>
              <mat-datepicker startView="multi-year" #pickerenddate></mat-datepicker>
            </mat-form-field>
          
          </div>
    
          <div class="row" *ngIf="ishidden ">
    
            <mat-form-field class= "col-md-4">
              <mat-label>Address Line 1</mat-label>
              <input id="schoolAddressLine1" formControlName ="schoolAddrLine1" matInput placeholder="Enter Address Line 1" />
            </mat-form-field>
    
            <mat-form-field class= "col-md-4">
              <mat-label>Address Line 2</mat-label>
              <input id="schoolAddressLine2" formControlName ="schoolAddrLine2" matInput placeholder="Enter Address Line 2" />
            </mat-form-field>
    
            <mat-form-field class= "col-md-4">
              <mat-label>Address Line 3</mat-label>
              <input id="schoolAddressLine3" formControlName ="schoolAddrLine3" matInput placeholder="Enter Address Line 3" />
            </mat-form-field>
          
          </div>
    
          <div class="row" *ngIf="ishidden ">
    
    
            <mat-form-field class= "col-md-6">
              <mat-label>School Country</mat-label>
              <input required id="schoolCountry" formControlName ="schoolCountry" matInput placeholder="Enter School Country" />
            </mat-form-field>
    
            <mat-form-field class= "col-md-6">
              <mat-label>School State</mat-label>
              <input required id="schoolState" formControlName ="schoolState" matInput placeholder="Enter School State" />
            </mat-form-field>
    
          </div>
    
          <div class="row" *ngIf="ishidden ">
            
            <mat-form-field class= "col-md-6">
              <mat-label>School City</mat-label>
              <input required id="schoolCity" formControlName ="schoolCity" matInput placeholder="Enter School City" />
            </mat-form-field>
    
            <mat-form-field class= "col-md-6">
              <mat-label>School Postal Code</mat-label>
              <input required id="schoolPostalCode" formControlName ="schoolPostalCode" matInput placeholder="Enter School Postal Code" />
            </mat-form-field>
  
          </div>
    
        </div>
    
        <div *ngIf = "isStudentvar|| isStudent" >
        <mat-divider style="position: relative;background-color:rgb(136, 88, 25);height: 2px;margin-top: 12px;">
        </mat-divider>
    
        <div class="row" style="padding-top: 1%;">
          <div class="col-md-6">
            <h2>Student's Sunday School Details</h2>
          </div>
        </div>
    
        <!-- <div class="row">
    
          <mat-form-field class= "col-md-6">
            <mat-label>Student Sunday School Academic Details Id</mat-label>
            <input required id="sunSchoolStudentAcaDtlId" formControlName ="sunSchoolStudentAcaDtlId" matInput placeholder="Enter Student Sunday School Academic Details Id" />
          </mat-form-field> 
  
          <mat-form-field class= "col-md-12">
            <mat-label>Student Id</mat-label>
            <input required id="sunSchoolStudentId" formControlName ="sunSchoolStudentId" matInput placeholder="Enter Student Id" />
          </mat-form-field>
  
    
        </div> -->
  
        <div class="row">
          <!--
                <mat-form-field class= "col-md-6">
                  <mat-label>School Id</mat-label>
                  <input required id="sunSchoolId" formControlName ="sunSchoolId" matInput placeholder="Enter School Id" />
                </mat-form-field>
          
                <mat-form-field class= "col-md-6">
                  <mat-label>School Grade</mat-label>
                  <input required id="sunSchoolGrade" formControlName ="sunSchoolGrade" matInput placeholder="Enter School Grade"/>
                </mat-form-field>
                -->
                <mat-form-field class="form-field col-md-9">
                    <mat-label>Sunday School Name</mat-label>
                    <!-- required [(ngModel)]="sundaySchoolNameSelect" -->
                    <select required matNativeControl  id="sunSchoolId" formControlName="sunSchoolId">
                    <!-- <option value="school1">school1</option>
                      <option value="school2">school2</option>
                       <option *ngFor="let orgIds of orgIds " [value]="orgIds.name">
                        {{orgIds.name}}</option> -->
                        <option *ngFor = "let schoolData of schoolDataList" [value]=schoolData.orgId>{{schoolData.name}} </option>
                    </select>
                   
                  </mat-form-field>
                  <!-- <ng-multiselect-dropdown style="padding-top: 0.7%;" class="col-md-6" id="sunSchoolId"
                  placeholder="Sunday School Name" [settings]="dropdownSettingsSundaySchoolName" [data]="schoolDataList"
                  formControlName="sunSchoolId" (onSelectAll)="onSelectAll($event)">
                </ng-multiselect-dropdown> -->
          
                  <mat-form-field class= "col-md-3">
                    <mat-label>Sunday School Grade</mat-label>
                    <!-- [(ngModel)]="sundaySchoolGradeSelect" -->
                    <mat-select required  matNativeControl 
                    id="sunSchoolGrade" formControlName="sunSchoolGrade">
                      <!-- <mat-option value="Grade 1">Grade 1</mat-option>
                      <mat-option value="Grade 2">Grade 2</mat-option>
                      <mat-option value="Grade 3">Grade 3</mat-option>
                      <mat-option value="Grade 4">Grade 4</mat-option>
                      <mat-option value="Grade 5">Grade 5</mat-option>
                      <mat-option value="Grade 6">Grade 6</mat-option>
                      <mat-option value="Grade 7">Grade 7</mat-option>
                      <mat-option value="Grade 8">Grade 8</mat-option>
                      <mat-option value="Grade 9">Grade 9</mat-option>
                      <mat-option value="Grade 10">Grade 10</mat-option>
                      <mat-option value="Grade 11">Grade 11</mat-option>
                      <mat-option value="Grade 12">Grade 12</mat-option> -->
                     
                      <mat-option *ngFor = "let schoolGrade of schoolDataList[0].grades"
                       [value]=schoolGrade.name>{{schoolGrade.name}} </mat-option>
                        <!-- <mat-option *ngFor = "let Grade of GradeData" [value]=Grade.gradeId>{{Grade.grade}} </mat-option>  -->
                    </mat-select>
                    
                  </mat-form-field>
                  
                  <!-- <ng-multiselect-dropdown style="padding-top: 0.7%;" class="col-md-6" id="sunSchoolGrade"
                  placeholder="Sunday School Grade" [settings]="dropdownSettingsSundaySchoolGrade" [data]="schoolDataList[0].grades"
                  formControlName="sunSchoolGrade" (onSelectAll)="onSelectAll($event)">
                </ng-multiselect-dropdown> -->
              </div>
          
              <div class="row" *ngIf="ishidden " >
                  
                <mat-form-field class= "col-md-6">
                  <mat-label>Sunday School Term</mat-label>
                  <input [min]="minDate" (dateChange)="comparisonSunSchoolStartDateValidator()"
                  (dateChange)="eventStartDateChange()" required matInput [matDatepicker]="sunSchoolAcaYrStrtDatepicker" id="sunSchoolAcaYrStrtDate"  formControlName ="sunSchoolAcaYrStrtDate" placeholder="Enter Academic Year Start Date">
                  <mat-datepicker-toggle matSuffix [for]="sunSchoolAcaYrStrtDatepicker"></mat-datepicker-toggle>
                  <mat-datepicker startView="multi-year" #sunSchoolAcaYrStrtDatepicker></mat-datepicker>
                  <mat-error
                  *ngIf="studentDetailsForm.controls['sunSchoolAcaYrStrtDate'].hasError('invaliddaterange')">
                 Start date cannot be greater than end date
              </mat-error>
              
                </mat-form-field>
        
          
                <mat-form-field class= "col-md-6">
                  <mat-label>Sunday School Year End Date</mat-label>
                  <input [min]="minDate" (dateChange)="comparisonSunSchoolEndDateValidator()"   required matInput [matDatepicker]="sunSchoolAcaYrEndDatepicker" id="sunSchoolAcaYrEndDate" formControlName ="sunSchoolAcaYrEndDate" placeholder="Enter Academic Year End Date">
                  <mat-datepicker-toggle  matSuffix [for]="sunSchoolAcaYrEndDatepicker"></mat-datepicker-toggle>
                  <mat-datepicker startView="multi-year" #sunSchoolAcaYrEndDatepicker></mat-datepicker>
                  <mat-error *ngIf="studentDetailsForm.controls['sunSchoolAcaYrEndDate'].hasError('invaliddaterange')">
                      End date cannot be earlier than start date
                    </mat-error>
                    <input id="sunSchoolAcaYrEndDate" placeholder="Sunday School Term End Dates"
                    formControlName="sunSchoolAcaYrEndDate"  readonly matInput>
                </mat-form-field>
          
              </div>
            
                <div class="row">
                  
                  <mat-form-field class= "col-md-6">
                    <mat-label>Sunday School Term</mat-label>
                    <!-- <input [min]="minDate" (dateChange)="comparisonSunSchoolStartDateValidator()"
                    (dateChange)="eventStartDateChange()" required matInput [matDatepicker]="sunSchoolAcaYrStrtDatepicker" id="sunSchoolAcaYrStrtDate"  formControlName ="sunSchoolAcaYrStrtDate" placeholder="Enter Academic Year Start Date">
                    <mat-datepicker-toggle matSuffix [for]="sunSchoolAcaYrStrtDatepicker"></mat-datepicker-toggle>
                    <mat-datepicker startView="multi-year" #sunSchoolAcaYrStrtDatepicker></mat-datepicker>
                    <mat-error
                    *ngIf="studentDetailsForm.controls['sunSchoolAcaYrStrtDate'].hasError('invaliddaterange')">
                   Start date cannot be greater than end date
                </mat-error> -->
                <input id="termDetailId"  placeholder="Sunday School Term"
                formControlName="termDetailId"  readonly matInput>
                  </mat-form-field>
          
<!--           
                  <mat-form-field class= "col-md-6">
                    <mat-label>Sunday School Year End Date</mat-label>
                    <input [min]="minDate" (dateChange)="comparisonSunSchoolEndDateValidator()"   required matInput [matDatepicker]="sunSchoolAcaYrEndDatepicker" id="sunSchoolAcaYrEndDate" formControlName ="sunSchoolAcaYrEndDate" placeholder="Enter Academic Year End Date">
                    <mat-datepicker-toggle  matSuffix [for]="sunSchoolAcaYrEndDatepicker"></mat-datepicker-toggle>
                    <mat-datepicker startView="multi-year" #sunSchoolAcaYrEndDatepicker></mat-datepicker>
                    <mat-error *ngIf="studentDetailsForm.controls['sunSchoolAcaYrEndDate'].hasError('invaliddaterange')">
                        End date cannot be earlier than start date
                      </mat-error>
                      <input id="sunSchoolAcaYrEndDate" placeholder="Sunday School Term End Dates"
                      formControlName="sunSchoolAcaYrEndDate"  readonly matInput>
                  </mat-form-field> -->
            
                </div>
                
               
        </div>
        
      </form>
     

    <mat-divider style="position: relative;background-color:rgb(136, 88, 25);height: 2px;margin-top: 10px; margin-bottom: 12px;">
    </mat-divider>
 
    
  </div>
    

    <!-- ****************************************  Basic edit profile Sign up form Code ****************************************** -->

      <form *ngIf="!isApprovedUserLoggedIn"  [formGroup]="signUpForm" class="p-2">

        <div class="row form-group">
            <mat-form-field class="form-field col-2">
                    <!-- <mat-select required formControlName="title" id="title" placeholder="Title">
                            <mat-option value="His Grace">His Grace</mat-option>
                            <mat-option value="Very Rev Fr. Dr">Very Rev Fr. Dr</mat-option>
                            <mat-option value="Very Rev">Very Rev</mat-option>
                            <mat-option value="Fr">Fr</mat-option>
                            <mat-option value="Rev Fr. Dr">Rev Fr. Dr</mat-option>
                            <mat-option value="Rev Fr.">Rev Fr.</mat-option>
                            <mat-option value="Mr">Mr</mat-option>
                            <mat-option value="Ms">Ms</mat-option>
                            <mat-option value="Mrs">Mrs</mat-option>
                            <mat-option value="Dr">Dr</mat-option>
                    </mat-select> -->
                    <mat-select required id="title" formControlName ="title" placeholder="Title" >
                      <mat-option *ngFor = "let title of titles; index as i" [value]=title>{{title}}</mat-option>
                    </mat-select>
            </mat-form-field>
            <mat-form-field class="form-field col-md-5">
                <input matInput formControlName="firstName" id="firstName" placeholder="First Name" maxlength="25" required>
                <mat-error *ngIf="signUpForm.controls.firstName.touched && signUpForm.controls.firstName.invalid">
                    <span *ngIf="signUpForm.controls.firstName.errors.required">This field is mandatory.</span>
                    <span *ngIf="signUpForm.controls.firstName.errors.pattern">This field is invalid.</span>
                </mat-error>
            </mat-form-field>

            <mat-form-field class="form-field col-md-5">
                <input type="text" matInput formControlName="lastName" id="lastName" placeholder="Last Name" maxlength="25" required>
                <mat-error *ngIf="signUpForm.controls.lastName.touched && signUpForm.controls.lastName.invalid">
                    <span *ngIf="signUpForm.controls.lastName.errors.required">This field is mandatory.</span>
                    <span *ngIf="signUpForm.controls.lastName.errors.pattern">This field is invalid.</span>
                </mat-error>
            </mat-form-field>
        </div>

        <div class="form-group row justify-content-center">
            <mat-form-field class="form-field col-md">
                <input type="text" matInput formControlName="email" id="email" placeholder="Email" required>
                <mat-error *ngIf="signUpForm.controls.email.touched && signUpForm.controls.email.invalid">
                    <span *ngIf="signUpForm.controls.email.errors.required">This field is mandatory.</span>
                    <span *ngIf="signUpForm.controls.email.errors.pattern">This field is invalid.</span>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="row">

            <mat-form-field class="form-field col col-md">
                <mat-label style="padding-left: 23%;">Mobile Number *</mat-label>
                <!-- <input matInput type="text" ng2TelInput (ng2TelOutput)="getNumber($event)" formControlName="mobileNo" id="mobileNo" maxlength="12" (keypress)="keyPress($event)" required style="width: fit-content;"/>
                <mat-error *ngIf="signUpForm.controls.mobileNo.touched && signUpForm.controls.mobileNo.invalid">
                    <span *ngIf="signUpForm.controls.mobileNo.errors.required">This field is mandatory.</span>
                    <span *ngIf="signUpForm.controls.mobileNo.errors.pattern">Enter 10 digit number.</span>
                </mat-error> -->
                <ngx-mat-intl-tel-input id="mobileNo" matInput (keypress)="keyPress($event)" [onlyCountries]="['us','in','ca']"
                [enableSearch]="true" [enablePlaceholder]="true" [maxLength]="['10']" [enableAutoCountrySelect]="true" name="mobileNo"
                formControlName="mobileNo" [preferredCountries]="['us']" [enableRequired]="true">
              </ngx-mat-intl-tel-input>
              <mat-error *ngIf="signUpForm.controls.mobileNo.touched && signUpForm.controls.mobileNo.invalid">
                <span *ngIf="signUpForm.controls['mobileNo']?.errors?.required">This field is mandatory.</span>
                <span *ngIf="signUpForm.controls['mobileNo']?.errors?.validatePhoneNumber">Enter 10 digit number.</span>
              </mat-error>
            </mat-form-field>
           

            <mat-form-field class="form-field col-12 col-md-6">
              
                <input matInput type="input" [matDatepicker]="picker" [max]="maxDate" formControlName="dob" id="dob" placeholder="DoB" >
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
                <mat-error *ngIf="signUpForm.controls.dob.touched && signUpForm.controls.dob.invalid">
                    <span *ngIf="signUpForm.controls.dob.errors.required">This field is mandatory.</span>
                    <span *ngIf="signUpForm.controls.dob.errors.pattern">This field is invalid.</span>
                </mat-error>
            </mat-form-field>
                           </div>

        <div class="form-group row">
                <mat-form-field class="form-field col-md">
                         <mat-select required formControlName="memberType" id="memberType" placeholder="Member Type">
                                <!-- <mat-option value="member">Member</mat-option>
                                <mat-option value="non-member">Non-member</mat-option>
                                <mat-option value="guest">Guest</mat-option> -->
                        <mat-option *ngFor = "let membership of memberships; index as i" [value]=membership>{{membership}}</mat-option>
                        </mat-select> 
                        
                </mat-form-field>
                <mat-form-field class="form-field col-md" >
                  
                        <mat-select  id="orgId" formControlName = "orgId" placeholder="Parish" >
                          <mat-option *ngFor = "let parish of parishList" [value]=parish.id>{{parish.name}} </mat-option>
                        </mat-select>
                      </mat-form-field>
        </div>

        <div class="form-group row justify-content-center">
            <mat-form-field class="form-field col-md">
                <textarea type="text" matInput formControlName="abtyrslf" id="abtyrslf" placeholder="About Yourself"></textarea>
            </mat-form-field>
        </div>
      

        <!-- <div class="form-group text-right">
            <button  mat-button type="submit" routerLinkActive="active" class="mbutton mr-1" (click)="unpproveCancel()">Cancel</button>
            <button [disabled]="!signUpForm.dirty" mat-button id="signInBtn" type="submit" routerLinkActive="active" class="mbutton" (click)="updateUserProfile()">Update</button>
        </div>  -->
        
    </form>
    <div class="row" style="padding-top: 1%;" *ngIf="!isFamilyHead">
        <div class="col text-center">
          <!--[disabled]="!myprofileform.dirty"-->
            <button  mat-button type="submit" routerLinkActive="active" class="mbutton mr-1" (click)="cancel()">Cancel</button>
          <button mat-button type="submit" mat-button class="mbutton" (change)="isDirty = false"
           (click)="updateUserProfile()">
            Update</button>
        </div>
      </div>  
  </mat-card>
</div>